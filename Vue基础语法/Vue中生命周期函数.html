<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue中生命周期函数</title>
  </head>
  <body>
    <div id="root"></div>

    <script src="https://unpkg.com/vue@next"></script>

    <script>
      const app = Vue.createApp({
        data() {
          return {
            message: 'hello world',
          }
        },
        //在Vue实例生成之后会自动执行函数
        beforeCreate() {
          console.log('beforeCreate', this.message)
        },
        //在Vue实例生成之后会自动执行函数
        create() {
          console.log('created', this.message)
        },
        //在组件内容被渲染到页面之前自动执行函数
        beforeMount() {
          console.log(document.getElementById('root').innerHTML, 'beforeMount', this.message)
        },
        //在组件内容被渲染到页面之后自动执行函数
        mounted() {
          console.log(document.getElementById('root').innerHTML, 'mounted')
        },
        //当data中的数据发生变化时自动执行的函数（控制台输入vm.$data.message = 'aaa'）
        beforeUpdate() {
          console.log(document.getElementById('root').innerHTML, 'beforeUpdate')
        },
        //当data中的数据发生变化，同时页面完成跟新后，会自动执行的函数
        updated() {
          console.log(document.getElementById('root').innerHTML, 'updated')
        },
        //当Vue应用失效时自动执行的函数（可以通过在控制台执行app.unmount()模拟该操作）
        beforeUnmount() {
          console.log(document.getElementById('root').innerHTML, 'beforeUnmount')
        },
        //当Vue应用失效且DOM完全销毁之后，自动执行的函数
        unmounted() {
          console.log(document.getElementById('root').innerHTML, 'unmounted')
        },
        template: `<h2>{{message}}</h2>`,
      })

      const vm = app.mount('#root')
    </script>
  </body>
</html>
